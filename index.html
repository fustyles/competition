<!--
@license
Copyright 2025 Taiwan (ChungYi Fu)

@author https://www.facebook.com/francefu/
@Update 6/4/2025 00:00 (Taiwan Standard Time)
-->


<!doctype html>
<html>
<head>
	<meta charset="utf-8">	
	<meta http-equiv="Access-Control-Allow-Headers" content="Origin, X-Requested-With, Content-Type, Accept">
	<meta http-equiv="Access-Control-Allow-Methods" content="GET,POST,PUT,DELETE,OPTIONS">
	<meta http-equiv="Access-Control-Allow-Origin" content="*">
	<meta http-equiv='Access-Control-Allow-Credentials' content='true'>	
	<title>鳳山科技中心</title>	
	<link rel="icon" type="image/x-icon" href="favicon.ico" />
	<link rel="stylesheet" href="css/icon.css" />
	<link rel="stylesheet" href="css/custom.css" />
	<link rel="stylesheet" href="css/jquery-ui.css">
	<link rel="stylesheet" href="css/createFunction.css">	
	<script src="js/blockly_compressed.js"></script>
	<script src="js/blocks_compressed.js"></script>
	<script src="js/javascript_compressed.js"></script>
	<script>
		var lang = location.search.toLowerCase();
		if (lang.indexOf("lang=en")!=-1)
			lang = "en";
		else if (lang.indexOf("lang=zh-hans")!=-1)
			lang = "zh-hans";
		else if (lang.indexOf("lang=zh-hant")!=-1)
			lang = "zh-hant";	
		else 
			lang = "zh-hant";  //en, zh-hans, zh-hant
		document.write("\<script src='msg/"+lang+".js'\>\<\/script>");
	</script>	
	<script src="js/index.js"></script>
	<script src="js/message.js"></script>
	<script src="plugin/ScreenShot/screenshot.js"></script>	
	<script src="customBlocks/gemini/gemini.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/3.1.2/rollups/aes.js"></script>	
	<script>
		var lang = location.search.toLowerCase();
		if (lang.indexOf("lang=en")!=-1)
			lang = "en";
		else if (lang.indexOf("lang=zh-hans")!=-1)
			lang = "zh-hans";
		else if (lang.indexOf("lang=zh-hant")!=-1)
			lang = "zh-hant";	
		else 
			lang = "zh-hant";  //en, zh-hans, zh-hant
	</script>
	<script src="js/jquery.min.js"></script>
	<script src="js/jquery-ui.js"></script>
	<script src="js/jquery.ui.touch-punch.min.js"></script>
	<script src="js/toolbox.js"></script>	
    <script src="js/beautify.js"></script>	
	<script>
	var block_script = ["competition","gemini"];
	for (var i=0;i<block_script.length;i++) {
	  document.write("\<script src='customBlocks/"+block_script[i]+"/blocks.js'\>\<\/script>");
	  document.write("\<script src='customBlocks/"+block_script[i]+"/javascript.js'\>\<\/script>");
	  document.write("\<script src='customBlocks/"+block_script[i]+"/toolbox.js'\>\<\/script>");
	  document.write("\<script src='customBlocks/"+block_script[i]+"/"+lang+".js'\>\<\/script>");
	}
	</script>
</head>
<body class="root">
<main id="main" class="has-tabs" >
    <!-- PAGE TABS -->
	<table>
		<tr>
			<td style="width: calc(100vw - 100px)">
				<ul id="tabs">
					<li id="tab_category_content"><a id="msg_toolbox" onclick="displayTab('category_content');">Toolbox</a></li>
					<li id="tab_xml_content"><a id="msg_xml" onclick="displayTab('xml_content');">XML</a></li>
					<li id="tab_javascript_content"><a id="msg_code" onclick="displayTab('code_content');">Javascript Code</a></li>
				</ul>
			</td>			
			<td style="width: 100px">
				<ul id="tabs">
					<!-- https://fonts.google.com/icons -->
					<a href="#" id="button_run" title="Import your blocks"><i class="material-icons md-dark">play_arrow</i></a>
					<a href="#" id="button_reset" title="Reset Workspace"><i class="material-icons md-dark">create</i></a>
					<a href="#" id="button_open_xml" title="Open xml file"><i class="material-icons md-dark">folder_open</i></a>
					<a href="#" id="button_save_xml" title="Save xml"><i class="material-icons md-dark">save</i></a>
					<a style="display:none" href="#" id="button_save_html" title="Save html"><i class="material-icons md-dark">download_for_offline</i></a>
					<a href="#" id="button_code" title="Show/Hide Output"><i class="material-icons md-dark">list_alt</i></a>
					<a style="display:none" href="#" id="button_webSerial" title="Web Serial"><i class="material-icons md-dark">usb</i></a>
					<a style="display:none" href="#" id="button_webBluetooth" title="Web Bluetooth"><i class="material-icons md-dark">bluetooth</i></a>
					<a style="display:none" href="#" id="button_webMQTT" class="hide-link tooltipped" data-tooltip="Web MQTT"><i class="material-icons md-dark">bookmark</i></a>							
					<a style="display:none" href="#" id="button_collaboration" title="MQTT Collaboration"><i class="material-icons md-dark">accessibility</i></a>			
					<a style="display:none" href="#" id="button_tool" title="Open Blockly Developer Tools"><i class="material-icons md-dark">construction</i></a>	
					<i>　</i>
				    <i class="material-icons md-dark">language</i>
					<i style="text-align: center;line-height: 50px;-align: middle;">
						<select id="lang-selector" style="height:24px;font-size:18px">
							<option value=""></option>
							<option value="en">ENGLISH</option>
							<option value="zh-hans">简体中文</option>
							<option value="zh-hant">繁體中文</option>
						</select>
					</i>
					<i>　　</i>
				</ul>
			</td>
		</tr>					
	</table>	
	  
	<!-- CONTENT  -->
	<div class="drop-shadow"></div>
	<div id="category_content" class="content">
		<div id="root"></div>
		<xml id="toolbox" style="display: none"></xml>
	</div>
	<div id="code_content" class="code_content">
	</div>
	<div id="xml_content" class="xml_content"></div>
	<div id="dialog_toolbox" onmousedown="textareaFocus('dialog_toolbox_parent');" ontouchstart="textareaFocus('dialog_toolbox_parent');"></div>
	
	<div id="javascript_content" class="ui-widget-content" onmousedown="textareaFocus('javascript_content');" ontouchstart="textareaFocus('javascript_content');">
		<div id="javascript_title" class="ui-widget-header">
			<span id="title_code"></span>
			<span class="contentzoom"><a href="#" id="button_copycode" title="Copy to clipboard"><i class="material-icons" style="vertical-align: middle; color: white;">featured_play_list</i></a></span>
			<span class="contentzoom_right"><a onclick="contentZoom('javascript');" style="cursor: pointer" title="Show/Hide"><i class="material-icons" style="vertical-align: middle; color: white;">unfold_more</i></a></span>
		</div>
		<div id="javascript_code" class="update_code">
			<span id="enter_question">Enter question</span>
			<textarea id="question_input" style="flex:1;resize:none;height:25%;width:98%;" onfocus="this.select()"></textarea>
			<span style="display: flex;width: 98%;justify-content: space-between;align-items: center;"><span><span id="enter_query">Query</span>    <button id="gemini_ask">小鳳AI</button></span><span><button id="gemini_clear">重設聊天</button>        <button id="test_code">驗證程式</button></span></span>
			<textarea id="query_input" style="flex:1;resize:none;height:5%;width:98%;" onfocus="this.select()"></textarea>			
			<iframe id="iframe_output" style="width:100%;height:55%;background-color: white;padding:0px;" frameborder="0" src="" scrolling="auto" allowpaymentrequest allow="fullscreen; geolocation; microphone; camera ; usb" sandbox="allow-forms allow-modals allow-orientation-lock allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-presentation allow-same-origin allow-scripts allow-top-navigation" onload="this.focus()"></iframe>
		</div>
	</div>
	
    <div id="createFunction" class="modal-container">
        <div id="createFunction_content">
            <div id="createFunction_header" class="header">建立一個積木</div>

            <div class="form-group">
                <label id="createFunction_blockName_label" for="blockName">積木名稱</label>
                <input id="createFunction_blockName_input" type="text" id="blockName" value="新積木">
            </div>
			
            <div class="element-group-param">
            </div>			

            <div id="createFunctionDiv" style="width:500px;height:150px;"></div>

            <div class="button-group-param">
                <button id="createFunction_add1" class="param-button">添加輸入方塊<br>數字或文字</button>
                <button id="createFunction_add2" class="param-button">添加輸入方塊<br>布林值</button>
                <button id="createFunction_add3" class="param-button">添加說明文字</button>
            </div>

            <div class="button-group-footer">
                <button id="cancelButton" class="action-button">取消</button>
                <button id="confirmButton" class="action-button">確定</button>
            </div>
        </div>
    </div>
</div>
</main>


</body>
</html>
